---
import type { APIContext } from 'astro';

import SubLayout from '../../layouts/SubLayout.astro';
import { GET } from '../api/hello.ts';

// https://docs.astro.build/en/recipes/call-endpoints/
// TODO fix that
const response = await GET(Astro as unknown as APIContext);
const data = await (response as Response).json();
---

<SubLayout title="Test 1">
    <h1>{data.greeting}</h1>
</SubLayout>
