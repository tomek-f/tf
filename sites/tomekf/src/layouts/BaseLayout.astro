---
import { ViewTransitions } from 'astro:transitions';

import '../styles/globals.css';

export interface Props {
  class?: string;
  classHtml?: string;
  title?: string;
}

const { class: className, classHtml, title } = Astro.props;

const parsedTitle = [title, 'Internety Tomasz FijoÅ‚'].filter(Boolean).join(' | ');
// todo proper description
const parsedDescription = ['Internety Tomasz FijoÅ‚', title].filter(Boolean).join(' - ');

// #striped-pattern - pattern opti -> cannot add class hidden or invisible, color and currentColor in stroke has to be here
// TODO move it to Pattern.astro

/*
<svg xmlns="http://www.w3.org/2000/svg" class="hidden">
  <symbol id="checkmark" viewBox="0 0 48 48">
    <path
      d="M24 48a24 24 0 1 0 0-48 24 24 0 0 0 0 48zm-2.5-15a1.7 1.7 0 0 1-1.3-.6L12.5 24c-.4-.5-.6-1.2-.4-2 .1-.6.6-1.2 1.2-1.3.7-.2 1.3 0 1.8.5l6.4 7 11.4-12.6c.7-.8 1.9-.8 2.6 0 .7.8.7 2 0 2.8l-12.8 14c-.3.4-.8.6-1.2.6z"
    ></path>
  </symbol>
</svg>
*/
// svg symbol usage <svg class="init-loader-checkmark" viewBox="0 0 48 48"><use href="#checkmark"></use></svg>

// <link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="any" />
---

<html lang="en" class:list={['min-h-screen p-6 md:p-8', classHtml]}>
  <head>
    <meta charset="utf-8" />
    <title>{parsedTitle}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={parsedDescription} />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš€</text></svg>"
    />
    <ViewTransitions />
  </head>
  <body
    class={[`font-light text-base bg-neutral-900 text-neutral-100`, className]
      .filter(Boolean)
      .join(' ')}
  >
    <slot />
    <div class="absolute">
      <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current text-neutral-700">
        <defs>
          <pattern
            id="striped-pattern"
            x="0"
            y="0"
            width="10"
            height="10"
            patternUnits="userSpaceOnUse"
          >
            <path d="M-3 13 15-5M-5 5l18-18M-1 21 17 3"></path>
          </pattern>
        </defs>
      </svg>
    </div>
  </body>
</html>
